!function($){tinymce.create("tinymce.plugins.seasaltpress",{init:function(e,t){function n(e){var t=e.selection.getContent()?e.selection.getContent():"Column";e.windowManager.open({title:"How Many Columns",body:[{type:"textbox",name:"number",label:"How Many Columns"},{type:"listbox",name:"keepmobile",label:"Responsive:",values:[{text:"collapse columns on mobile",value:""},{text:"keep columns on mobile",value:" stay-on-mobile "}]},{type:"listbox",name:"margin",label:"margin bottom",values:[{text:"yes",value:" m1 "},{text:"no",value:""}]},{type:"listbox",name:"gutters",label:"Outter Gutters",values:[{text:"No outter gutters",value:" negative-gutters "},{text:"Outter gutters",value:""}]}],onsubmit:function(n){var o="";o='<div class="flex'+n.data.keepmobile+n.data.gutters+n.data.margin+'">',o.replace(/\s{2,}/g," ");for(var l=0;l<n.data.number;l++)o+='<div class="col">'+t+"</div>";o+=" </div> <p>Text After columns</p>",e.insertContent(o,{format:"raw"})}})}function o(e){var t=e.selection.getNode();$(t).is("[class*=col]")&&e.windowManager.open({title:"Column Size",body:[{type:"listbox",name:"col",label:"Column Size",values:[{text:"col",value:"col"},{text:"col-1-2",value:"col-1-2"},{text:"col-1-3",value:"col-1-3"},{text:"col-1-4",value:"col-1-4"},{text:"col-3-4",value:"col-3-4"},{text:"col-1-5",value:"col-1-5"},{text:"col-2-5",value:"col-2-5"},{text:"col-3-5",value:"col-3-5"},{text:"col-4-5",value:"col-4-5"},{text:"col-1-6",value:"col-1-6"},{text:"col-5-6",value:"col-5-6"}]},{type:"listbox",name:"keepmobile",label:"Responsive:",values:[{text:"collapse columns on mobile",value:""},{text:"keep columns on mobile",value:"stay-on-mobile"}]},{type:"listbox",name:"margin",label:"margin bottom",values:[{text:"yes",value:"m1"},{text:"no",value:""}]},{type:"listbox",name:"gutters",label:"Outter Gutters",values:[{text:"No outter gutters",value:"negative-gutters"},{text:"Outter gutters",value:""}]}],onsubmit:function(n){var o="",l=n.data.keepmobile,a=n.data.gutters,s=n.data.margin;t.parentNode.classList.remove("stay-on-mobile"),t.parentNode.classList.remove("negative-gutters"),t.parentNode.classList.remove("m1"),""!==l&&t.parentNode.classList.add(l),""!==a&&t.parentNode.classList.add(a),""!==s&&t.parentNode.classList.add(s),o+='   <div class="'+n.data.col+'">'+t.innerHTML+"</div>",t.parentNode.removeChild(t),e.insertContent(o)}})}function l(e){var t=e.selection.getNode(),n=document.createElement("span");n.innerHTML="Your Free!";var o=t.parentNode,l=o.parentNode.insertBefore(n,o.nextSibling);e.selection.select(l)}function a(e){var t=e.selection.getNode();t.parentNode.classList.contains("flex")&&t.parentNode.remove()}function s(e){var t=e.selection.getContent()?e.selection.getContent():"<p>Put content here</p>";-1==t.indexOf("<")&&(t="<p>"+t+"</p>"),console.log(t);var n='   <div class="break-out">   <div class="inside-break-out">'+t+" </div> </div> &nbsp;";e.insertContent(n)}function i(e){var t=e.selection.getContent()?e.selection.getContent():"<p>Put content here</p>",n='<div class="wrap">'+t+"</div>";e.insertContent(n)}function c(e){var t=e.selection.getContent()?e.selection.getContent():"<p>Put content here</p>",n='<div class="content-width">'+t+"</div>";e.insertContent(n)}function u(e){var t=e.selection.getContent()?e.selection.getContent():"Put content here";if("Put content here"==t)e.insertContent('<button class="button">'+t+"</button>");else{e.selection.getNode().classList.add("button")}}e.addButton("seasaltpress-options",{title:"Add Columns",type:"menubutton",menu:[{text:"Columns",menu:[{text:"Add Columns",value:"cols",onclick:function(){n(e)}},{text:"Customize Column",value:"custom-cols",onclick:function(){o(e)}},{text:"Delete Columns",value:"deleteCol",onclick:function(){a(e)}},{text:"Content Width",value:"contentCol",onclick:function(){c(e)}}]},{text:"Button",value:"button",onclick:function(){u(e)}},{text:"Exit Element",value:"exitColumns",onclick:function(){l(e)}},{text:"Break Out",value:"breakout",onclick:function(){s(e)}},{text:"Wrap",value:"wrap",onclick:function(){i(e)}}]}),e.addCommand("prism",function(){var t=prompt("which language? php html scss markup... ");null==t&&(t="markup");var n=e.selection.getContent({format:"raw"})?e.selection.getContent({format:"raw"}):"Put content here",o='<pre><code class="language-'+t+'">'+n+"</code></pre>";e.execCommand("mceInsertContent",!1,o)}),e.addCommand("code",function(){var t=prompt("which language? php html scss markup... ");null==t&&(t="markup");var n=e.selection.getContent({format:"raw"})?e.selection.getContent({format:"raw"}):"Put content here",o='<code class="language-'+t+'">'+n+"</code> ";e.execCommand("mceInsertContent",!1,o)})},createControl:function(e,t){return null},getInfo:function(){return{longname:"Sea Salt Press Buttons",author:"Shamai",authorurl:"http://saltnpixels.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/example",version:"0.1"}}}),tinymce.PluginManager.add("seasaltpress",tinymce.plugins.seasaltpress)}(jQuery);