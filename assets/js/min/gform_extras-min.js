function GetCharacterFromKeyCode(e){return String.fromCharCode(e>=96&&e<=105?e-48:e)}function setCursorPosition(e,t){e.setSelectionRange(t,t)}function setGformSelects(e){if(7==e.length){var t=e.substr(0,2);"0"==t.substr(0,1)&&(t=t.substr(1,1));var r=e.slice(-2),n=(new Date).getFullYear().toString(),r=n.substr(0,n.length-2)+e.slice(-2);$(".ginput_card_expiration_month").val(t),$(".ginput_card_expiration_year").val(r)}else $(".ginput_card_expiration_month").val(""),$(".ginput_card_expiration_year").val("")}var inputNumbers="";jQuery(function($){jQuery(document).bind("gform_post_render",function(){var e=$(".ginput_card_expiration_month").attr("tabindex");$(".ginput_card_expiration_container").prepend('<input placeholder="MM / YY" id="special_field" type="text" name="expire_special" class="expire-special" tabindex="'+e+'">'),$(".ginput_card_expiration_container select").addClass("gfield_visibility_hidden")}),$(".gform_wrapper").on("click focus",".expire-special",function(){setCursorPosition($(this)[0],$(this).val().length)}),$(".gform_wrapper").on("keydown",".expire-special",function(e){var t=e.which,r=t>=48&&t<=57||t>=96&&t<=105,n=8==t,i=27==t,u=9==t,s=191==t||111==t,p=e.metaKey;switch(!0){case r:e.preventDefault();var a=GetCharacterFromKeyCode(t);0===inputNumbers.length&&"0"!=a&&"1"!=a?inputNumbers+="0"+a+" / ":1===inputNumbers.length?"1"===inputNumbers&&-1!=$.inArray(a,["1","2","0"])?inputNumbers+=a+" / ":"0"===inputNumbers&&"0"!=a&&(inputNumbers+=a+" / "):2==inputNumbers.length?inputNumbers+=" / "+a:(inputNumbers.length>2&&inputNumbers.length<7||0==inputNumbers.length)&&(inputNumbers+=a);break;case s:e.preventDefault(),1==inputNumbers.length&&"1"===inputNumbers?inputNumbers="01 / ":2==inputNumbers.length&&(inputNumbers+=" / ");break;case n:e.preventDefault(),inputNumbers.length>0&&(lastChar=inputNumbers.slice(-1),inputNumbers=inputNumbers.slice(0,-1)," "!==lastChar&&"/"!==lastChar||(inputNumbers=inputNumbers.substr(0,2)));break;case i:return inputNumbers="",void e.preventDefault();case u||p:return;break;default:e.preventDefault();break}$(".expire-special").val(inputNumbers),setGformSelects(inputNumbers)}),$(".gform_wrapper").on("blur",".expire-special",function(e){6==inputNumbers.length?(inputNumbers=inputNumbers.substr(0,5)+0+inputNumbers.substr(5,5),$(".expire-special").val(inputNumbers),setGformSelects(inputNumbers)):inputNumbers.length<6&&(inputNumbers="",$(".expire-special").val(inputNumbers),setGformSelects(inputNumbers))})});